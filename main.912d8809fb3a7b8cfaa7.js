(()=>{"use strict";var n,t,e,a,s={724:(n,t,e)=>{e.d(t,{AV:()=>v,BS:()=>w,Bo:()=>l,FJ:()=>o,P8:()=>y,Pu:()=>u,Rn:()=>r,aX:()=>h,dJ:()=>g,gC:()=>m,id:()=>d,ix:()=>b,yD:()=>p});const a="http://localhost:3000",s=`${a}/garage`,i=`${a}/engine`,c=`${a}/winners`,r=async(n,t=7)=>{const e=await fetch(`${s}?_page=${n}&_limit=${t}`);return{items:await e.json(),count:e.headers.get("X-Total-Count")}},o=async n=>(await fetch(`${s}/${n}`)).json(),d=async n=>(await fetch(`${s}`,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})).json(),l=async(n,t)=>(await fetch(`${s}/${n}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json(),m=async n=>(await fetch(`${s}/${n}`,{method:"DELETE"})).json(),u=async n=>(await fetch(`${i}?id=${n}&status=started`,{method:"PATCH"})).json(),g=async n=>(await fetch(`${i}?id=${n}&status=stopped`,{method:"PATCH"})).json(),p=async n=>{const t=await fetch(`${i}?id=${n}&status=drive`,{method:"PATCH"}).catch();return 200!==t.status?{success:!1}:Object.assign({},await t.json())},b=async({page:n,limit:t=10,sort:e,order:a})=>{const s=await fetch(`${c}?_page=${n}&_limit=${t}${((n,t)=>n&&t?`&_sort=${n}&_order=${t}`:"")(e,a)}`),i=await s.json();return{items:await Promise.all(i.map((async n=>Object.assign(Object.assign({},n),{car:await o(n.id.toString())})))),count:s.headers.get("X-Total-Count")}},h=async()=>(await fetch(`${c}`)).json(),y=async n=>(await fetch(`${c}`,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})).json(),w=async n=>(await fetch(`${c}/${n}`,{method:"DELETE"})).json(),v=async({id:n,time:t})=>{const e=await(async n=>(await fetch(`${c}/${n}`)).json())(n);await(async(n,t)=>(await fetch(`${c}/${n}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json())(n,{id:n,wins:e.wins+1,time:t<e.time?t:e.time})}},981:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{Z:()=>o});var s=e(724);const{items:n,count:i}=await(0,s.Rn)(1),{items:c,count:r}=await(0,s.ix)({page:1}),o={carsPage:1,winnersPage:1,cars:n,carsCount:i,winners:c,winnersCount:r,animation:{},view:"garage",sortBy:"",sortOrder:""};a()}catch(n){a(n)}}),1)},881:(n,t,e)=>{e.d(t,{n:()=>s});var a=e(232);const s=({id:n,name:t,color:e,isEngineStarted:s})=>`\n  <h3 class="car__title">${t}</h3>\n  <div class="car__buttons">\n    <button class="btn car__select-btn" id="select-car-${n}">Select</button>\n    <button class="btn car__remove-btn" id="remove-car-${n}">Remove</button>\n  </div>\n  <div class="car__way">\n    <div class="car__control">\n      <div class="car__engine-panel">\n        <button class="car__engine-btn start-engine-btn" id="start-engine-car-${n}" ${s?"disabled":""}>Start</button>\n        <button class="car__engine-btn stop-engine-btn" id="stop-engine-car-${n}" ${s?"":"disabled"}>Stop</button>\n      </div>\n      <div class="car__img" id="car-${n}">\n        ${(0,a.a)(e)}\n      </div>\n    </div>\n    <div class="car__finish" id="finish-${n}">\n      <img src="../../assets/finish.png" alt="finish">\n    </div>\n  </div>\n  <div class="car__road">\n  </div>\n`},232:(n,t,e)=>{e.d(t,{a:()=>a});const a=n=>`\n<?xml version="1.0" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"\n "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n width="100" height="50" viewBox="0 0 1280.000000 640.000000"\n preserveAspectRatio="xMidYMid meet">\n<metadata>\nCreated by potrace 1.15, written by Peter Selinger 2001-2017\n</metadata>\n<g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\nfill="${n}" stroke="none">\n<path d="M3525 5341 c-72 -18 -79 -28 -90 -121 -4 -30 -11 -62 -16 -71 -4 -9\n-97 -51 -206 -94 -774 -304 -1348 -540 -1603 -661 -163 -77 -222 -91 -421\n-104 -85 -5 -170 -14 -189 -20 -101 -32 -362 -58 -620 -63 l-115 -2 -47 -80\nc-47 -78 -47 -80 -29 -100 34 -36 35 -77 5 -177 -30 -99 -34 -178 -19 -370 5\n-67 4 -88 -6 -88 -29 0 -83 -56 -110 -114 -50 -106 -74 -343 -48 -467 13 -58\n13 -62 3 -159 -5 -54 16 -238 28 -244 2 -1 29 -20 61 -41 73 -49 123 -103 132\n-143 17 -79 167 -155 355 -181 104 -15 969 -97 1087 -104 l32 -2 5 160 c7 230\n50 394 146 559 281 479 917 673 1405 429 316 -159 530 -424 598 -742 22 -106\n29 -365 13 -519 l-8 -82 3002 0 c2855 0 3002 1 2995 18 -33 87 -56 325 -45\n461 28 320 177 567 459 759 399 273 847 282 1243 24 239 -157 397 -392 460\n-687 18 -84 15 -341 -5 -430 -8 -38 -14 -71 -12 -73 7 -8 386 20 478 34 180\n28 253 65 304 152 24 41 28 57 28 127 -1 44 -9 117 -20 163 -18 79 -18 88 -2\n190 31 199 40 306 41 497 1 176 -1 195 -23 260 -46 135 -103 190 -283 274\n-222 104 -633 220 -1168 330 -523 108 -1524 210 -2054 211 l-229 0 -236 139\nc-813 477 -1593 884 -1852 966 -498 157 -1598 195 -2892 100 l-188 -14 -47 30\nc-92 58 -223 89 -297 70z m1912 -311 c13 -45 58 -305 88 -515 33 -226 74 -539\n71 -542 -7 -7 -1672 40 -2054 58 -357 16 -464 56 -573 215 -62 91 -87 225 -59\n326 12 40 56 74 192 148 369 198 799 289 1618 340 246 15 290 16 510 16 l194\n-1 13 -45z m649 10 c383 -36 717 -86 934 -139 210 -52 451 -163 720 -332 141\n-88 379 -259 380 -271 0 -5 -14 -8 -32 -8 -48 0 -114 -37 -140 -78 -24 -39\n-30 -113 -15 -189 l9 -43 -904 0 -904 0 -176 540 -175 540 47 0 c25 0 141 -9\n256 -20z"/>\n<path d="M2617 3125 c-431 -82 -774 -440 -838 -875 -17 -117 -7 -292 24 -410\n113 -436 497 -751 947 -777 507 -29 959 313 1076 813 28 117 26 348 -4 467\n-94 378 -383 670 -760 768 -105 27 -336 34 -445 14z m378 -310 c84 -21 209\n-85 280 -142 116 -94 210 -242 251 -393 23 -87 24 -260 0 -355 -58 -237 -242\n-439 -473 -519 -531 -186 -1074 277 -969 828 30 152 94 274 206 386 111 110\n237 178 385 206 84 16 235 11 320 -11z"/>\n<path d="M2918 2568 c2 -90 7 -167 12 -172 17 -17 108 58 201 166 l51 57 -48\n31 c-52 33 -131 65 -185 75 l-34 6 3 -163z"/>\n<path d="M2591 2700 c-62 -22 -167 -82 -164 -94 3 -13 237 -216 249 -216 7 0\n15 7 18 16 8 20 8 127 -1 232 -7 95 -8 96 -102 62z"/>\n<path d="M3209 2355 c-57 -64 -105 -123 -107 -131 -6 -25 46 -35 157 -29 58 3\n121 8 139 11 33 5 34 6 27 42 -7 44 -64 167 -92 201 l-19 24 -105 -118z"/>\n<path d="M2260 2409 c-31 -44 -68 -133 -77 -186 l-6 -33 155 0 c165 0 201 9\n181 44 -13 24 -204 216 -214 216 -5 0 -22 -18 -39 -41z"/>\n<path d="M2786 2354 c-36 -35 0 -87 44 -64 26 14 26 56 1 70 -25 13 -27 13\n-45 -6z"/>\n<path d="M2751 2186 c-57 -32 -68 -111 -22 -157 43 -42 101 -43 143 -1 42 42\n41 100 -1 143 -33 32 -78 38 -120 15z"/>\n<path d="M2560 2136 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n-54 2z"/>\n<path d="M3002 2124 c-27 -19 -28 -36 -3 -58 25 -23 61 -6 61 29 0 33 -30 49\n-58 29z"/>\n<path d="M2245 1993 c-77 -6 -76 -5 -59 -65 16 -55 61 -146 92 -186 l18 -23\n103 122 c57 67 104 129 105 138 1 14 -14 16 -104 17 -58 0 -127 -1 -155 -3z"/>\n<path d="M3165 1981 c-44 -4 -61 -10 -63 -22 -3 -16 210 -229 228 -229 22 0\n86 141 105 228 l7 32 -109 -2 c-59 -1 -135 -4 -168 -7z"/>\n<path d="M2776 1914 c-19 -18 -19 -20 -6 -45 6 -11 21 -19 35 -19 20 0 45 24\n45 44 0 10 -32 36 -45 36 -7 0 -21 -7 -29 -16z"/>\n<path d="M2589 1743 c-86 -90 -139 -151 -139 -162 0 -25 179 -101 236 -101\nl27 0 -7 143 c-9 166 -13 187 -35 187 -9 0 -46 -30 -82 -67z"/>\n<path d="M2936 1801 c-6 -10 -24 -168 -29 -258 -3 -60 -2 -63 19 -63 79 0 262\n68 248 92 -5 7 -53 64 -108 126 -93 105 -117 124 -130 103z"/>\n<path d="M10723 3125 c-318 -58 -597 -266 -743 -555 -223 -441 -98 -996 289\n-1288 112 -84 188 -125 311 -166 274 -91 545 -70 802 61 552 282 735 983 392\n1500 -225 339 -651 521 -1051 448z m385 -315 c348 -98 579 -443 532 -796 -67\n-508 -596 -796 -1055 -574 -239 116 -396 352 -412 620 -20 335 192 640 516\n745 122 40 289 42 419 5z"/>\n<path d="M11017 2568 c3 -90 9 -167 14 -172 13 -14 53 18 155 122 l95 97 -23\n18 c-50 40 -189 97 -235 97 -10 0 -11 -33 -6 -162z"/>\n<path d="M10705 2706 c-50 -16 -133 -58 -163 -82 l-23 -19 121 -107 c67 -60\n128 -108 135 -108 23 0 27 39 20 186 -8 162 -4 157 -90 130z"/>\n<path d="M11307 2354 c-59 -65 -107 -126 -107 -136 0 -11 11 -18 38 -22 44 -7\n278 7 289 17 15 16 -51 183 -94 236 l-19 24 -107 -119z"/>\n<path d="M10362 2413 c-39 -62 -70 -134 -78 -184 l-7 -39 152 0 c86 0 161 5\n172 10 17 10 18 13 5 38 -8 15 -59 71 -114 125 l-99 99 -31 -49z"/>\n<path d="M10888 2359 c-24 -14 -23 -56 2 -69 44 -23 80 29 44 64 -18 19 -23\n19 -46 5z"/>\n<path d="M10851 2187 c-49 -29 -66 -101 -35 -146 9 -13 32 -29 50 -37 29 -12\n39 -12 68 0 99 41 85 180 -19 192 -24 3 -50 -1 -64 -9z"/>\n<path d="M10660 2136 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n-54 2z"/>\n<path d="M11096 2124 c-9 -8 -16 -22 -16 -29 0 -13 26 -45 36 -45 20 0 44 25\n44 45 0 14 -8 29 -19 35 -25 13 -27 13 -45 -6z"/>\n<path d="M10335 1991 c-60 -6 -60 -6 -57 -36 9 -69 104 -248 122 -229 57 61\n210 250 207 258 -4 12 -176 17 -272 7z"/>\n<path d="M11267 1983 c-68 -5 -79 -19 -47 -60 23 -31 200 -193 210 -193 3 0\n20 24 37 53 29 48 52 111 67 180 l6 27 -107 -2 c-60 -1 -134 -3 -166 -5z"/>\n<path d="M10870 1910 c-16 -31 4 -62 38 -58 21 2 28 9 30 32 5 45 -47 65 -68\n26z"/>\n<path d="M10651 1703 c-56 -59 -101 -113 -101 -120 0 -28 172 -103 237 -103\nl26 0 -7 123 c-10 179 -15 207 -36 207 -10 0 -63 -48 -119 -107z"/>\n<path d="M11035 1801 c-7 -12 -23 -144 -29 -243 -4 -77 -4 -78 19 -78 45 0\n130 22 193 51 l64 29 -19 23 c-65 82 -198 227 -209 227 -7 0 -15 -4 -19 -9z"/>\n</g>\n</svg>\n`},785:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{O:()=>r});var s=e(981),i=e(881),c=n([s]);s=(c.then?(await c)():c)[0];const r=()=>`\n    <h2 class="garage__title subtitle">Garage (${s.Z.carsCount} cars)</h2>\n    <p class="garage__page subtitle__page">Page #${s.Z.carsPage}</p>\n    <ul class="garage__cars">\n      ${s.Z.cars.map((n=>`<li class="garage__item car">${(0,i.n)(n)}</li>`)).join("")}\n    </ul>\n`;a()}catch(n){a(n)}}))},12:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{A:()=>r});var s=e(981),i=e(724),c=n([s]);s=(c.then?(await c)():c)[0];const r=async()=>{const{items:n,count:t}=await(0,i.Rn)(s.Z.carsPage);s.Z.cars=n,s.Z.carsCount=t,document.getElementById("next").disabled=7*s.Z.carsPage>=Number(s.Z.carsCount),document.getElementById("prev").disabled=s.Z.carsPage<=1};a()}catch(n){a(n)}}))},267:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{X:()=>r});var s=e(785),i=e(287),c=n([s,i]);[s,i]=c.then?(await c)():c;const r=()=>{const n=`\n  <header class="header">\n      <h1 class="header-title">Async Race</h1>\n    </header>\n    <main class="main">\n      <aside class="main__tools tools">\n        <div class="tools__pages">\n          <button type="button" class="btn tools__garage-btn">Garage</button>\n          <button type="button" class="btn tools__winners-btn">Winners</button>\n        </div>\n        <div class="tools__forms">\n          <h2>Change garage:</h2>\n          <form class="form create-form" id="create-form">\n            <input class="input" id="create-name" name="name" type="text" required />\n            <input\n              class="color"\n              id="create-color"\n              name="color"\n              type="color"\n              value="#ffffff"\n            />\n            <button class="btn form-btn" type="submit">Create</button>\n          </form>\n          <form class="form update-form" id="update-form">\n            <input\n              class="input"\n              id="update-name"\n              name="name"\n              type="text"\n              disabled\n              required\n            />\n            <input\n              class="color"\n              id="update-color"\n              name="color"\n              type="color"\n              value="#ffffff"\n              disabled\n            />\n            <button class="btn form-btn" id="update-btn" type="submit" disabled >Update</button>\n          </form>\n        </div>\n        <ul class="tools__control control">\n          <li class="control__item" ><button class="btn race-btn" id="race">Race</button></li>\n          <li class="control__item" ><button class="btn reset-btn" id="reset" disabled>Reset</button></li>\n          <li class="control__item" ><button class="btn generate-btn" id="generate">Generate</button></li>\n      </ul>\n      </aside>\n      <article class="main__feed garage">\n        <div id="garage-page" class="garage__container">${(0,s.O)()}</div>\n        <div id="winners-page" class="winners__container">${(0,i.V9)()}</div>\n        <div class="garage__pagination">\n          <button class="btn prev-button" id="prev" disabled>Prev Page</button>\n          <button class="btn next-button" id="next" disabled>Next Page</button>\n        </div>\n        <div class="garage__message hidden" id="win-message"></div>\n      </article>\n    </main>\n\n    <footer class="footer">\n        <div class="footer__link">\n          <img src="./assets/github.svg" alt="GitHub" />\n          <a href="https://github.com/SpiriT-L" target="_blank">\n            Spirit-L\n          </a>\n        </div>\n        <p>© 2022</p>\n    </footer>\n`,t=document.createElement("div");t.innerHTML=n,document.body.appendChild(t)};a()}catch(n){a(n)}}))},287:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{V9:()=>o,Yr:()=>l,aI:()=>d});var s=e(981),i=e(724),c=e(232),r=n([s]);s=(r.then?(await r)():r)[0];const o=()=>`\n  <h2 class = "subtitle">Winners (${s.Z.winnersCount})</h2>\n  <p class = "subtitle__page">Page #${s.Z.winnersPage}</p>\n  <table>\n  <tr>\n    <th>№</th>\n    <th>Car</th>\n    <th>Model</th>\n      <th class="table-button table-wins ${"wins"===s.Z.sortBy?s.Z.sortOrder:""}\tid="sort-by-wins">Wins</th>\n      <th class="table-button table-time ${"time"===s.Z.sortBy?s.Z.sortOrder:""}\tid="sort-by-time">Best time (sec)</th>\n  </tr>\n  ${s.Z.winners.map(((n,t)=>`\n  <tr>\n    <td>${t+1}</td>\n    <td>${(0,c.a)(n.car.color)}</td>\n    <td>${n.car.name}</td>\n    <td>${n.wins}</td>\n    <td>${n.time}</td>\n  </tr>\n      `)).join("")}\n\n</table>`,d=async()=>{const{items:n,count:t}=await(0,i.ix)({page:s.Z.winnersPage,sort:s.Z.sortBy,order:s.Z.sortOrder});s.Z.winners=n,s.Z.winnersCount=t,document.getElementById("next").disabled=10*s.Z.winnersPage>=Number(s.Z.winnersCount),document.getElementById("prev").disabled=s.Z.winnersPage<=1},l=async n=>{s.Z.sortOrder="asc"===s.Z.sortOrder?"desc":"asc",s.Z.sortBy=n,await d(),document.getElementById("winners-page").innerHTML=o()};a()}catch(n){a(n)}}))},607:(n,t,e)=>{e.a(n,(async(n,t)=>{try{var a=e(267),s=e(785),i=e(12),c=e(724),r=e(972),o=e(660),d=e(235),l=e(287),m=e(981),u=n([a,s,i,o,d,l,m]);let g;[a,s,i,o,d,l,m]=u.then?(await u)():u,(0,a.X)(),await(0,i.A)();const p=document.querySelector("#root"),b=document.getElementById("create-form"),h=document.getElementById("update-form"),y=document.getElementById("update-name"),w=document.getElementById("update-color"),v=document.getElementById("update-btn"),_=document.getElementById("garage-page"),f=document.getElementById("winners-page"),$=document.getElementById("garage-page"),M=document.getElementById("winners-page"),E=document.getElementById("win-message");b.addEventListener("submit",(async n=>{n.preventDefault();const t=document.getElementById("create-name"),e=document.getElementById("create-color"),a={name:t.value,color:e.value};await(0,c.id)(a),await(0,i.A)(),_.innerHTML=(0,s.O)(),t.value="",e.value="#61B0FA"})),h.addEventListener("submit",(async n=>{n.preventDefault();const t=document.getElementById("update-name"),e=document.getElementById("update-color"),a={name:t.value,color:e.value};await(0,c.Bo)(g.id,a),await(0,i.A)(),_.innerHTML=(0,s.O)(),t.value="",v.disabled=!0,t.disabled=!0,e.disabled=!0,e.value="#61B0FA"}));const B=async n=>{g=await(0,c.FJ)(n.id.split("select-car-")[1]),y.value=g.name,w.value=g.color,y.disabled=!1,w.disabled=!1,v.disabled=!1},Z=async n=>{const t=Number(n.id.split("remove-car-")[1]);await(0,c.gC)(t),await(0,i.A)(),await(0,c.BS)(t),_.innerHTML=(0,s.O)()},P=async()=>{switch(m.Z.view){case"garage":m.Z.carsPage-=1,await(0,i.A)(),_.innerHTML=(0,s.O)();break;case"winners":m.Z.winnersPage-=1,await(0,l.aI)(),f.innerHTML=(0,l.V9)()}},L=async()=>{switch(m.Z.view){case"garage":m.Z.carsPage+=1,await(0,i.A)(),_.innerHTML=(0,s.O)();break;case"winners":m.Z.winnersPage+=1,await(0,l.aI)(),f.innerHTML=(0,l.V9)()}},I=async n=>{const t=n.target;t.disabled=!0;const e=(0,r.c)();await Promise.all(e.map((async n=>(0,c.id)(n)))),await(0,i.A)(),_.innerHTML=(0,s.O)(),t.disabled=!1},S=async n=>{n.target.disabled=!0,document.getElementById("reset").disabled=!1;const t=(await(0,c.aX)()).map((n=>n.id)),e=await(0,o.S)(d.S);t.includes(e.id)?await(0,c.AV)(e):await(0,c.P8)({id:e.id,wins:1,time:e.time}),E.innerHTML=`${e.name} won in ${e.time} seconds!`,E.classList.remove("hidden"),setTimeout((()=>{E.classList.add("hidden")}),3e3)},T=async n=>{n.target.disabled=!0,m.Z.cars.map((({id:n})=>(0,d.s)(n))),E.classList.add("hidden"),document.getElementById("race").disabled=!1},z=async()=>{await(0,i.A)(),m.Z.view="garage",$.style.display="block",M.style.display="none"},C=async()=>{M.style.display="block",$.style.display="none",await(0,l.aI)(),m.Z.view="winners",M.innerHTML=(0,l.V9)()};p.addEventListener("click",(async n=>{const t=n.target;if(t.classList.contains("car__select-btn")&&B(t),t.classList.contains("car__remove-btn")&&Z(t),t.classList.contains("prev-button")&&P(),t.classList.contains("next-button")&&L(),t.classList.contains("generate-btn")?I(n):t.classList.contains("race-btn")?S(n):t.classList.contains("reset-btn")?T(n):t.classList.contains("tools__garage-btn")?z():t.classList.contains("tools__winners-btn")&&C(),t.classList.contains("start-engine-btn")){const n=Number(t.id.split("start-engine-car-")[1]);(0,d.S)(n)}if(t.classList.contains("stop-engine-btn")){const n=Number(t.id.split("stop-engine-car-")[1]);(0,d.s)(n)}t.classList.contains("table-wins")?(0,l.Yr)("wins"):t.classList.contains("table-time")&&(0,l.Yr)("time")})),t()}catch(n){t(n)}}),1)},201:(n,t,e)=>{e.d(t,{$:()=>s,o:()=>i});const a=n=>{const{top:t,left:e,width:a,height:s}=n.getBoundingClientRect();return{x:e+a/2,y:t+s/2}},s=(n,t)=>{const e=a(n),s=a(t);return Math.hypot(e.x-s.x,e.y-s.y)},i=(n,t,e)=>{const a=n;let s=null;const i={id:1},c=n=>{s||(s=n);const r=n-s,o=Math.round(r*(t/e));a.style.transform=`translateX(${Math.min(o,t)}px) translateY(25px)`,o<t&&(i.id=window.requestAnimationFrame(c))};return i.id=window.requestAnimationFrame(c),i}},235:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{S:()=>o,s:()=>d});var s=e(981),i=e(724),c=e(201),r=n([s]);s=(r.then?(await r)():r)[0];const o=async n=>{const t=document.getElementById(`start-engine-car-${n}`);t.disabled=!0,t.classList.toggle("enabling",!0);const{velocity:e,distance:a}=await(0,i.Pu)(n),r=Math.round(a/e);t.classList.toggle("enabling",!1),document.getElementById(`stop-engine-car-${n}`).disabled=!1;const o=document.getElementById(`car-${n}`),d=document.getElementById(`finish-${n}`),l=Math.floor((0,c.$)(o,d))+100;s.Z.animation[n]=(0,c.o)(o,l,r);const{success:m}=await(0,i.yD)(n);return m||window.cancelAnimationFrame(s.Z.animation[n].id),{success:m,id:n,time:r}},d=async n=>{const t=document.getElementById(`stop-engine-car-${n}`);t.disabled=!0,t.classList.toggle("enabling",!0),await(0,i.dJ)(n),t.classList.toggle("enabling",!1),document.getElementById(`start-engine-car-${n}`).disabled=!1,document.getElementById(`car-${n}`).style.transform="translateX(0) translateY(20px)",s.Z.animation[n]&&window.cancelAnimationFrame(s.Z.animation[n].id)};a()}catch(n){a(n)}}))},972:(n,t,e)=>{e.d(t,{c:()=>o});const a="0123456789ABCDEF",s=["Volvo","Mitsubishi","Audi","Hyundai","Ford","Volkswagen","Honda","BMW","Skoda","Toyota"],i=["Cargo van","Convertible","Coupe","Hatchback","Minivan","Passenger van","Pickup truck","SUV","Sedan","Wagon"],c=()=>{const n=Math.floor(Math.random()*s.length),t=Math.floor(Math.random()*i.length);return`${s[n]} ${i[t]}`},r=()=>{let n="#";for(let t=0;t<6;t+=1)n+=a[Math.floor(Math.random()*a.length)];return n},o=(n=100)=>new Array(n).fill(1).map((()=>({name:c(),color:r()})))},660:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{S:()=>r});var s=e(981),i=n([s]);s=(i.then?(await i)():i)[0];const c=async(n,t)=>{const{success:e,id:a,time:i}=await Promise.race(n);if(!e){const e=t.findIndex((n=>n===a)),s=[...n.slice(0,e),...n.slice(e+1,n.length)],i=[...t.slice(0,e),...t.slice(e+1,t.length)];return c(s,i)}const r=s.Z.cars.filter((n=>n.id===a))[0];return Object.assign(Object.assign({},r),{time:Number((i/1e3).toFixed(2))})},r=async n=>{const t=s.Z.cars.map((({id:t})=>n(t)));return await c(t,s.Z.cars.map((n=>n.id)))};a()}catch(n){a(n)}}))}},i={};function c(n){var t=i[n];if(void 0!==t)return t.exports;var e=i[n]={exports:{}};return s[n](e,e.exports,c),e.exports}n="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=n=>{n&&!n.d&&(n.d=1,n.forEach((n=>n.r--)),n.forEach((n=>n.r--?n.r++:n())))},c.a=(s,i,c)=>{var r;c&&((r=[]).d=1);var o,d,l,m=new Set,u=s.exports,g=new Promise(((n,t)=>{l=t,d=n}));g[t]=u,g[n]=n=>(r&&n(r),m.forEach(n),g.catch((n=>{}))),s.exports=g,i((s=>{var i;o=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[n])return s;if(s.then){var i=[];i.d=0,s.then((n=>{c[t]=n,a(i)}),(n=>{c[e]=n,a(i)}));var c={};return c[n]=n=>n(i),c}}var r={};return r[n]=n=>{},r[t]=s,r})))(s);var c=()=>o.map((n=>{if(n[e])throw n[e];return n[t]})),d=new Promise((t=>{(i=()=>t(c)).r=0;var e=n=>n!==r&&!m.has(n)&&(m.add(n),n&&!n.d&&(i.r++,n.push(i)));o.map((t=>t[n](e)))}));return i.r?d:c()}),(n=>(n?l(g[e]=n):d(u),a(r)))),r&&(r.d=0)},c.d=(n,t)=>{for(var e in t)c.o(t,e)&&!c.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},c.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),c(607)})();